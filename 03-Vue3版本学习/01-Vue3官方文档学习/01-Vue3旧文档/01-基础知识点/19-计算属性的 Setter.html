<!--
 * @Author: liming
 * @Date: 2021-05-27 13:29:28
 * @LastEditTime: 2021-05-27 15:38:49
 * @FilePath: \LearnVue\01-Vue3.x\01-Vue3.x官方文档\01-小知识点\19-计算属性的 Setter.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Vue3.0小案例</title>
    <style>
    </style>
</head>

<body>
    <div id="app" class='demo'>
        <p>初始值：{{name}}</p>
        <p>函数值：{{func()}}</p>
        <p>计算属性值：{{fullName}}</p>
        <button @click="setSeverseStr()">点击调用set方法</button>

    </div>
    <script src="vue.js"></script>
    <script>
        const demo = {
            data() {
                return {
                    name: 'Rose Jack',
                    firstName: '小',
                    lastName: '明'

                }
            },
            computed: {
                fullName: {
                    // getter
                    get() {
                        return this.firstName + ' ' + this.lastName
                    },
                    set(newValue) {
                        const names = newValue.split(' ')
                        // 如果把空字符串 ("") 用作 separator，那么 stringObject 中的每个字符之间都会被分割。
                        // ' '这个不是空字符串，这个是空格
                        this.firstName = names[0]
                        this.lastName = names[names.length - 1]
                        // 现在再运行 vm.fullName = 'John Doe' 时，setter 会被调用，vm.firstName 和 vm.lastName 也会相应地被更新。
                        alert(this.firstName);
                        alert(this.lastName);
                    }
                }
            },
            methods: {
                func() {
                    return this.firstName + ' ' + this.lastName
                },
                setSeverseStr() {
                    this.fullName = 'xiao ming';
                }
            }
        }

        Vue.createApp(demo).mount('#app')
    </script>
</body>

</html>