<!--
 * @Author: liming
 * @Date: 2021-05-31 15:15:05
 * @LastEditTime: 2021-05-31 15:28:09
 * @FilePath: \LearnVue\01-Vue3.x\01-Vue3.x官方文档\01-小知识点\02-组件基础\04-监听子组件事件.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Vue3.0小案例</title>
    <style>
    </style>
</head>

<body>
    <!-- 唉，这个我还是没有透彻理解啊！！！！！ -->
    <!-- 我们在开发 <blog-post> 组件时，它的一些功能可能需要与父级组件进行沟通。例如我们可能会引入一个辅助功能来放大博文的字号，同时让页面的其它部分保持默认的字号。

在其父组件中，我们可以通过添加一个 postFontSize 数据 property 来支持这个功能： -->
    <div id="app" class='demo'>
        <div :style="{fontSize:postFontSize + 'em'}">
            <blog-post v-for="item in posts" :key="item.id" :title="item.title1" @enlarge-text="postFontSize+=0.1">
            </blog-post>
        </div>
    </div>

    <script src="vue.js"></script>
    <script>
        const demo = {
            data() {
                return {
                    posts: [{
                            id: 1,
                            title1: 'My journey with Vue'
                        },
                        {
                            id: 2,
                            title1: 'Blogging with Vue'
                        },
                        {
                            id: 3,
                            title1: 'Why Vue is so fun'
                        }
                    ],
                    postFontSize: 1

                }
            },
            methods: {

            }
        }
        const app = Vue.createApp(demo)

        app.component('blog-post',{
            props:['title'],
            emits:['enlargeText'],
            template:`
                <div class="blog-post">
                    <h4>{{ title }}</h4>
                    <button @click="$emit('enlargeText')">
                        Enlarge text
                    </button>
                </div>
            `
        })
        // 当点击这个按钮时，我们需要告诉父级组件放大所有博文的文本。幸好组件实例提供了一个自定义事件的系统来解决这个问题。父级组件可以像处理原生 DOM 事件一样通过 v-on 或 @ 监听子组件实例的任意事件：
        app.mount('#app')
    </script>
</body>

</html>